{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\n\nconst useFetch = (url, method = 'GET', options = {}, search = false) => {\n  _s();\n\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const baseUrl = 'https://api.themoviedb.org/3/movie';\n  const baseSearchUrl = 'https://api.themoviedb.org/3/search/movie';\n  const apiKey = '77c57d7fc2e5ee5e5664c1a03edf9f29';\n  useEffect(() => {\n    const endpoint = `${search ? baseSearchUrl : baseUrl}${url}?api_key=${apiKey}?`;\n    console.log(endpoint);\n\n    const fetchData = async () => {\n      try {\n        const res = await fetch(endpoint, {\n          method,\n          ...options\n        });\n        const json = await res.json();\n        setResponse(json);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n  return {\n    response,\n    error,\n    loading\n  };\n};\n\n_s(useFetch, \"49/I0r598LgCIIluHdgpQ1BsF8Y=\");\n\nexport default useFetch;","map":{"version":3,"sources":["/Users/olutundesokunbi/Documents/React/movie-stuff/src/hooks/useFetch.js"],"names":["useEffect","useState","useFetch","url","method","options","search","response","setResponse","error","setError","loading","setLoading","baseUrl","baseSearchUrl","apiKey","endpoint","console","log","fetchData","res","fetch","json"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,QAAQ,GAAG,CAACC,GAAD,EAAMC,MAAM,GAAG,KAAf,EAAuBC,OAAO,GAAG,EAAjC,EAAqCC,MAAM,GAAG,KAA9C,KAAwD;AAAA;;AACvE,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAMY,OAAO,GAAG,oCAAhB;AACA,QAAMC,aAAa,GAAG,2CAAtB;AACA,QAAMC,MAAM,GAAG,kCAAf;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,QAAQ,GAAI,GAAEV,MAAM,GAAGQ,aAAH,GAAmBD,OAAQ,GAAEV,GAAI,YAAWY,MAAO,GAA7E;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AAEA,UAAMG,SAAS,GAAG,YAAY;AAC5B,UAAI;AACF,cAAMC,GAAG,GAAG,MAAMC,KAAK,CAACL,QAAD,EAAW;AAChCZ,UAAAA,MADgC;AAEhC,aAAGC;AAF6B,SAAX,CAAvB;AAIA,cAAMiB,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAJ,EAAnB;AAEAd,QAAAA,WAAW,CAACc,IAAD,CAAX;AACD,OARD,CAQE,OAAOb,KAAP,EAAc;AACdC,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,OAVD,SAUU;AACRG,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAdD;;AAgBAO,IAAAA,SAAS;AACV,GArBQ,EAqBN,EArBM,CAAT;AAuBA,SAAO;AAAEZ,IAAAA,QAAF;AAAYE,IAAAA,KAAZ;AAAmBE,IAAAA;AAAnB,GAAP;AACD,CAjCD;;GAAMT,Q;;AAmCN,eAAeA,QAAf","sourcesContent":["import { useEffect, useState } from 'react'\n\nconst useFetch = (url, method = 'GET',  options = {}, search = false) => {\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const baseUrl = 'https://api.themoviedb.org/3/movie'\n  const baseSearchUrl = 'https://api.themoviedb.org/3/search/movie'\n  const apiKey = '77c57d7fc2e5ee5e5664c1a03edf9f29'\n\n  useEffect(() => {\n    const endpoint = `${search ? baseSearchUrl : baseUrl}${url}?api_key=${apiKey}?`\n    console.log(endpoint)\n\n    const fetchData = async () => {\n      try {\n        const res = await fetch(endpoint, {\n          method,\n          ...options,\n        });\n        const json = await res.json();\n\n        setResponse(json);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false)\n      }\n    };\n\n    fetchData();\n  }, [ ]);\n\n  return { response, error, loading };\n};\n\nexport default useFetch"]},"metadata":{},"sourceType":"module"}