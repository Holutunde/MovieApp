{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olutundesokunbi/Documents/React/movie-stuff/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/olutundesokunbi/Documents/React/movie-stuff/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/olutundesokunbi/Documents/React/movie-stuff/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/olutundesokunbi/Documents/React/movie-stuff/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';var useFetch=function useFetch(url){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'GET';var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var baseUrl='https://api.themoviedb.org/3/movie';var apiKey='77c57d7fc2e5ee5e5664c1a03edf9f29';useEffect(function(){var endpoint=\"\".concat(baseUrl).concat(url,\"?api_key=\").concat(apiKey);console.log(endpoint);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(endpoint,_objectSpread({method:method},options));case 3:res=_context.sent;_context.next=6;return res.json();case 6:json=_context.sent;setResponse(json);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10,13,16]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return{response:response,error:error,loading:loading};};export default useFetch;","map":{"version":3,"sources":["/Users/olutundesokunbi/Documents/React/movie-stuff/src/hooks/useFetch.js"],"names":["useEffect","useState","useFetch","url","method","options","response","setResponse","error","setError","loading","setLoading","baseUrl","apiKey","endpoint","console","log","fetchData","fetch","res","json"],"mappings":"gqBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,GAAD,CAAwC,IAAlCC,CAAAA,MAAkC,2DAAzB,KAAyB,IAAjBC,CAAAA,OAAiB,2DAAP,EAAO,CACvD,cAAgCJ,QAAQ,CAAC,IAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA0BN,QAAQ,CAAC,IAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,OAAO,CAAG,oCAAhB,CACA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAEAb,SAAS,CAAC,UAAM,CACd,GAAMc,CAAAA,QAAQ,WAAMF,OAAN,SAAgBT,GAAhB,qBAA+BU,MAA/B,CAAd,CACAE,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAEA,GAAMG,CAAAA,SAAS,0FAAG,sLAEIC,CAAAA,KAAK,CAACJ,QAAD,gBACrBV,MAAM,CAANA,MADqB,EAElBC,OAFkB,EAFT,QAERc,GAFQ,qCAMKA,CAAAA,GAAG,CAACC,IAAJ,EANL,QAMRA,IANQ,eAQdb,WAAW,CAACa,IAAD,CAAX,CARc,iFAUdX,QAAQ,aAAR,CAVc,yBAYdE,UAAU,CAAC,KAAD,CAAV,CAZc,sGAAH,kBAATM,CAAAA,SAAS,0CAAf,CAgBAA,SAAS,GACV,CArBQ,CAqBN,EArBM,CAAT,CAuBA,MAAO,CAAEX,QAAQ,CAARA,QAAF,CAAYE,KAAK,CAALA,KAAZ,CAAmBE,OAAO,CAAPA,OAAnB,CAAP,CACD,CAhCD,CAkCA,cAAeR,CAAAA,QAAf","sourcesContent":["import { useEffect, useState } from 'react'\n\nconst useFetch = (url, method = 'GET',  options = {}) => {\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const baseUrl = 'https://api.themoviedb.org/3/movie'\n  const apiKey = '77c57d7fc2e5ee5e5664c1a03edf9f29'\n\n  useEffect(() => {\n    const endpoint = `${baseUrl}${url}?api_key=${apiKey}`\n    console.log(endpoint)\n\n    const fetchData = async () => {\n      try {\n        const res = await fetch(endpoint, {\n          method,\n          ...options,\n        });\n        const json = await res.json();\n\n        setResponse(json);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false)\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { response, error, loading };\n};\n\nexport default useFetch\n"]},"metadata":{},"sourceType":"module"}